$schema: "http://json-schema.org/draft-04/schema#"

id: lane_level_seq_file
title: Lane Level Seq File
type: object
description: Lane level sequencing data file
additionalProperties: false
category: data_file
validators: null
project: '*'
program: '*'

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state
  - release_state
  - release_state_datetime
  - release_state_lock

links:
    - name: lane_level_seq_bundles
      label: part_of
      target_type: lane_level_seq
      multiplicity: one_to_one
      required: true
      backref: lane_level_seq_files

required: [ file_name, file_format, file_size, md5sum ]

uniqueKeys:
    - [ id ]
    - [ project_id, file_name ]

properties:
    id:
        $ref: "_definitions.yaml#/UUID"
    project_id:
      type: string
    state:
        $ref: "_definitions.yaml#/data_file_state"
    type:
        enum: [ lane_level_seq_file ]
    submitter_id:
        type:
          - string
          - "null"
    file_name:
        $ref: "_definitions.yaml#/file_name"
    file_format:
        $ref: "_definitions.yaml#/file_format"
        enum: [ "fastq", "bam" ]
    file_size:
        $ref: "_definitions.yaml#/file_size"
    md5sum:
        $ref: "_definitions.yaml#/md5sum"
    lane_level_seq_bundles:
        $ref: "_definitions.yaml#/to_one"
    created_datetime:
        $ref: "_definitions.yaml#/datetime"
    updated_datetime:
        $ref: "_definitions.yaml#/datetime"

    # ======== Release state ========
    release_state:
        $ref: "_definitions.yaml#/release_state"
    release_state_datetime:
        $ref: "_definitions.yaml#/datetime"
    release_state_lock:
        $ref: "_definitions.yaml#/release_state_lock"
