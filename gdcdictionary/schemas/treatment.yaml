$schema: "http://json-schema.org/draft-04/schema#"

id: "treatment"
title: Treatment
type: object
namespace: https://gdc.cancer.gov
category: clinical
project: '*'
program: '*'
description: >-
  Record of the administration and intention of therapeutic agents provided to a patient
  to alter the course of a pathologic process.
additionalProperties: false
submittable: true
downloadable: false
previous_version_downloadable: false
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state

links:
  - name: diagnoses
    backref: treatments
    label: describes
    target_type: diagnosis
    multiplicity: many_to_one
    required: true

required:
  - submitter_id

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

deprecated:
  - days_to_treatment
  - treatment_arm

properties:

  $ref:
    - "_definitions.yaml#/ubiquitous_properties"

  chemo_concurrent_to_radiation:
    $ref:
      - "_terms.yaml#/chemo_concurrent_to_radiation/common"
    enum:
      - ''

  clinical_trial_indicator:
    $ref:
      - "_terms.yaml#/clinical_trial_indicator/common"
    enum:
      - ''

  course_number:
    $ref:
      - "_terms.yaml#/course_number/common"
    type: number

  days_to_treatment_end:
    $ref:
      - "_terms.yaml#/days_to_treatment_end/common"
    type: integer
    maximum: 32872
    minimum: -32872

  days_to_treatment_start:
    $ref:
      - "_terms.yaml#/days_to_treatment_start/common"
    type: integer
    maximum: 32872
    minimum: -32872

  drug_category:
    $ref:
      - "_terms.yaml#/drug_category/common"
    enum:
      - ''

  embolic_agent:
    $ref:
      - "_terms.yaml#/embolic_agent/common"
    enum:
      - ''

  initial_disease_status:
    $ref:
      - "_terms.yaml#/initial_disease_status/common"
    enum:
      - ''

  lesions_treated_number:
    $ref:
      - "_terms.yaml#/lesions_treated_number/common"
    type: number
    minimum: 0

  number_of_cycles:
    $ref:
      - "_terms.yaml#/number_of_cycles/common"
    type: integer
    minimum: 0

  number_of_fractions:
    $ref:
      - "_terms.yaml#/number_of_fractions/common"
    type: number
    minimum: 0

  prescribed_dose:
    $ref:
      - "_terms.yaml#/prescribed_dose/common"
    type: number
    minimum: 0

  protocol_identifier:
    $ref:
      - "_terms.yaml#/protocol_identifier/common"
    enum:
      - ''

  reason_treatment_ended:
    $ref:
      - "_terms.yaml#/reason_treatment_ended/common"
    enum:
      - ''

  residual_disease:
    enum:
      - ''

  regimen_or_line_of_therapy:
    $ref:
      - "_terms.yaml#/regimen_or_line_of_therapy/common"
    type: string

  route_of_administration:
    $ref:
      - "_terms.yaml#/route_of_administration/common"
    type: array
    items:
      enum:
        - ''

  timepoint_category:
    enum:
      - ''

  treatment_anatomic_site:
    $ref:
      - "_terms.yaml#/treatment_anatomic_site/common"
    enum:
      - ''

  treatment_arm:
    $ref:
      - "_terms.yaml#/treatment_arm/common"
    enum:
      - ''

  treatment_dose:
    $ref:
      - "_terms.yaml#/treatment_dose/common"
    type: integer
    minimum: 0

  treatment_dose_max:
    $ref:
      - "_terms.yaml#/treatment_dose_max/common"
    type: number
    minimum: 0

  treatment_dose_units:
    $ref:
      - "_terms.yaml#/treatment_dose_units/common"
    enum:
      - ''

  treatment_duration:
    type: integer
    maximum: 32872
    minimum: -32872

  treatment_effect:
    $ref:
      - "_terms.yaml#/treatment_effect/common"
    enum:
      - ''

  treatment_effect_indicator:
    $ref:
      - "_terms.yaml#/treatment_effect_indicator/common"
    enum:
      - ''

  treatment_frequency:
    $ref:
      - "_terms.yaml#/treatment_frequency/common"
    enum:
      - ''

  treatment_intent_type:
    $ref:
      - "_terms.yaml#/treatment_intent_type/common"
    enum:
      - ''

  treatment_or_therapy:
    $ref:
      - "_terms.yaml#/treatment_or_therapy/common"
    enum:
      - ''

  treatment_outcome:
    $ref:
      - "_terms.yaml#/treatment_outcome/common"
    enum:
      - ''

  treatment_outcome_duration:
    type: integer
    maximum: 32872
    minimum: -32872

  treatment_type:
    $ref:
      - "_terms.yaml#/treatment_type/common"
    enum:
      - ''

  therapeutic_agents:
    $ref:
      - "_terms.yaml#/therapeutic_agents/common"
    enum:
      - ''

  therapeutic_level_achieved:
    type: boolean

  therapeutic_target_level:
    enum:
      - ''

  diagnoses:
    $ref: "_definitions.yaml#/to_one"
