$schema: "http://json-schema.org/draft-04/schema#"

id: lane_level_qc_metric
title: Lane Level Qc Metric
type: object
description: GDC QC metrics
additionalProperties: false
category: qc_bundle  # qc_bundle is produced by GDC, and uploaded to GDC by GDC
validators: null

systemProperties:
    id:
        $ref: "_definitions.yaml#/UUID"
    project_id:
        type: string
    state:
        $ref: "_definitions.yaml#/data_file_state"

links:
    - name: lane_level_seq_bundles
      label: part_of
      target_type: lane_level_seq
      multiplicity: one_to_one
      required: true
      backref: lane_level_qc_metrics

required:
  - type
  - number_of_reads
  - percent_gc_content
  - average_per_base_quality
  - lane_level_seq_bundles

uniqueKeys:
    - [ id ]

properties:
    id:
        $ref: "_definitions.yaml#/UUID"
    project_id:
        type: string
    state:
        $ref: "_definitions.yaml#/data_file_state"
    type:
        enum:  [ lane_level_qc_metric ]
    number_of_reads:
        type: integer
    percent_gc_content:
        type: integer
        minimum: 0
        maximum: 100
    average_per_base_quality:
        type: array
        itmes:
            type: integer
    lane_level_seq_bundles:
        $ref: "_definitions.yaml#/to_one"
