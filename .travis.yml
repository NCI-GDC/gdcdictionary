os: linux
dist: bionic
language: python
python:
  - "3.6"
  - "3.7"
  - "3.8"
  - "3.9"
  - "3.10"
  - "3.11-dev"

addons:
  apt:
    packages:
      - "python3-pip"
      - "python3-venv"

install:
  - /usr/bin/python3 -m pip install pipx --user
  - pipx install poetry
  - pipx inject poetry poetry-dynamic-versioning
  - pip install tox-travis tox-poetry

script:
  - tox

jobs:
  allow_failures:
    - python: "3.11-dev"
