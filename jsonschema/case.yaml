#Should this be the GDC metaschema?
$schema: "http://json-schema.org/draft-04/schema#"

id: "case"
title: Case
type: object
namespace: http://gdc.nci.nih.gov
category: administrative
program: '*'
project: '*'
description: "TODO"
additionalProperties: false
validators: null

systemProperties:
  - id
  - project
  - type
  - state

links:
  - name: member_of
    link_to_type: project
    multiplicity: one_to_one

required:
  - alias
  - gender
  - race
  - member_of

uniqueKeys:
  - [id]
  - [project_id, alias]

# Case properties
properties:
  submitter_case_id:
    type:
      - string
      - "null"
  type:
    type: string
  state:
    type: string
  alias:
    type:
      - string
      - "null"

  #These may end up in the clinical node, but they're here now
  gender:
    title: Gender
    cde_id: 2200604
    type: string
    description: |
      Identification of gender is based upon self-report and may come
      from a form, questionnaire, interview, etc
    enum:
      - female
      - male
      - unknown
      - unspecified
  race:
    title: Race
    cde_id: 21922199
    description: |
      Patient's race using the defined categories
    enum:
      - American Indian or Alaska Native
      - Asian
      - White
      - Black or African American
      - Native Hawaiian or other Pacific Islander
      - Not Evaluated
      - Unknown
  ethnicity:
    title: Ethnicity
    description: |
      Patient's ethnicity using the defined categories
    cde_id: 2200604
    enum:
      - female
      - male
      - unknown
      - unspecified

  member_of:
    $ref: "definitions.yaml#/to_one"
    description: >
      Indicates that the case is logically part of the linked to project.
