$schema: "http://json-schema.org/draft-04/schema#"

id: "http://gdc.nci.nih.gov/v0/schema#"
title: "GDC JSON schema extension"

allOf:
  - "$ref": "http://json-schema.org/draft-04/schema#"

#GDC extensions
required:
  - namespace
  - category
  - project
  - unique_keys
  - system_properties
  #Could also require core JSON schema fields here if desired
  #JSON schema does not require anything

definitions:
  link:
    title: "Links to other GDC entities"
    type: object
    required:
      - link_to_type
      - multiplicity

    properties:
      link_to_type:
        type: string

      multiplicity:
        type: string
        enum:
          - oneToOne
          - oneToMany
          - manyToOne
          - manyToMany

properties:
  namespace:
    type: string

  category:
    type: string
    enum:
      - administrative
      - biospecimen
      - clinical

  project:
    type: string

  uniqueKeys:
    type: array

  validators:
    type: array

  system_properties:
    type: array

  properties:
    patternProperties:
      "^link_out_.*$":
        $ref: "#/definitions/link"
