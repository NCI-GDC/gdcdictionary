$schema: "http://json-schema.org/draft-04/schema#"

id: "sample"
title: Sample
type: object
namespace: http://gdc.nci.nih.gov
category: biospecimen
program: '*'
project: '*'
description: >
  Any material sample taken from a biological entity for testing,
  diagnostic, propagation, treatment or research purposes, including a sample
  obtained from a living organism or taken from the biological object after
  halting of all its life functions. Biospecimen can contain one or more
  components including but not limited to cellular molecules, cells, tissues,
  organs, body fluids, embryos, and body excretory products.
  (GDC Synonym of NCIt C70699)
additionalProperties: false
validators: null

systemProperties:
  - id
  - project_id

required:
  - alias
  - sample_type

uniqueKeys:
  - [id]
  - [project_id, alias]

links:
  - name: derived_from
    link_to_type: case
    multiplicity: many_to_one #not sure

# Sample properties
# Currently there are many TCGA-specific fields in the DB, this is an attempt
# to minimize the core fields
properties:
  type:
    type: string
  id:
    $ref: "definitions.yaml#/UUID"
    system_alias: node_id
    description: "TODO"
  alias:
    type:
      - string
      - "null"
    description: "TODO"
  sample_type:
    type: string
    description: "TODO"
  sample_type_id:
    type: string
    description: "TODO"
  tumor_code_id:
    type: string
    description: "TODO"
  tumor_code:
    type: string
    description: "TODO"
  longest_dimension:
    type: string
    description: "TODO"
  intermediate_dimension:
    type: string
    description: "TODO"
  shortest_dimension:
    type: string
    description: "TODO"
  initial_weight:
    type: string
    description: "TODO"
  current_weight: 
    type: string
    description: "TODO"
  freezing_method: 
    type: string
    description: "TODO"
  oct_embedded: 
    type: string
    description: "TODO"
  time_between_clamping_and_freezing: 
    type: string
    description: "TODO"
  time_between_excision_and_freezing: 
    type: string
    description: "TODO"
  days_to_collection: 
    type: integer 
    description: "TODO"
  days_to_sample_procurement: 
    type: integer 
    description: "TODO"
  pathology_report_uuid: 
    type: string
    description: "TODO"
  is_ffpe:
    type: boolean
    description: "TODO"
  derived_from:
    $ref: "definitions.yaml#/to_one" #should this be to_one
    description: >
      Indicates that the sample is physically derived from the subject
      of the linked to case via some process/protocol
